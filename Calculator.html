<!DOCTYPE html>
<html>
<head>
    <title>Calculator</title>
    <link rel="stylesheet" type="text/css" href="Calculator.css">
    <!--<script src="cal.js"></script>-->
    <script src="Stack.js"></script>
</head>
<body>
<div id='calc-contain'>

    <form name="calculator">

        <input type="text" name="answer" />
        <br>
        <script>
            var flag = 0;
        </script>

        <input type="button" value=" c " onclick="f();calculator.answer.value = ''" />
        <input type="button" value=" ( " onclick="f();calculator.answer.value += '('" />
        <input type="button" value=" ) " onclick="f();calculator.answer.value += ')'" />
        <input type="button" value=" + " onclick="f();calculator.answer.value += '+'" />
        <br>

        <input type="button" value=" 1 " onclick="f();calculator.answer.value += '1'" />
        <input type="button" value=" 2 " onclick="f();calculator.answer.value += '2'" />
        <input type="button" value=" 3 " onclick="f();calculator.answer.value += '3'" />
        <input type="button" value=" - " onclick="f();calculator.answer.value += '-'" />
        <br/>

        <input type="button" value=" 4 " onclick="f();calculator.answer.value += '4'" />
        <input type="button" value=" 5 " onclick="f();calculator.answer.value += '5'" />
        <input type="button" value=" 6 " onclick="f();calculator.answer.value += '6'" />
        <input type="button" value=" x " onclick="f();calculator.answer.value += '*'" />
        </br>

        <input type="button" value=" 7 " onclick="f();calculator.answer.value += '7'" />
        <input type="button" value=" 8 " onclick="f();calculator.answer.value += '8'" />
        <input type="button" value=" 9 " onclick="f();calculator.answer.value += '9'" />
        <input type="button" value=" / " onclick="f();calculator.answer.value += '/'" />
        </br>

        <input type="button" value=" % " onclick="f();calculator.answer.value += '%'" />
        <input type="button" value=" 0 " onclick="f();calculator.answer.value += '0'" />
        <input type="button" value=" = " onclick="calculator.answer.value=myFunction(calculator.answer.value)" />

        <input type="button" value=" . " onclick="f();calculator.answer.value += '.'" />

        </br>

        <script>

            function myFunction(exp) {
                flag = 1;
                let valid = validation(exp);
                if(valid === 'valid')
                    return eval(calculator.answer.value);
                else return 'not valid';
                /**try{
                    return eval(calculator.answer.value);

                }catch(e){

                    return 'error';
                }*/
            }
            function f(){
            if(flag === 1){
                calculator.answer.value = '';
                flag = 0;
            }}
            function postFixEvaluation(exp)
            {
                var stack = new Stack();
                for (var i = 0; i < exp.length; i++) {
                    var c = exp[i];
                    if (!isNaN(c))
                        stack.push(c - '0');
                    else {
                        var val1 = stack.pop();
                        var val2 = stack.pop();
                        if (val1 == "Underflow" || val2 == "Underflow")
                            return "Can't perform postfix evaluation";
                        switch (c) {
                            case '+':
                                stack.push(val2 + val1);
                                break;

                            case '-':
                                stack.push(val2 - val1);
                                break;

                            case '/':
                                stack.push(val2 / val1);
                                break;

                            case '*':
                                stack.push(val2 * val1);
                                break;
                        }
                    }
                }

                return stack.pop();
            }

        </script>

    </form>

</div>
</body>
</html>